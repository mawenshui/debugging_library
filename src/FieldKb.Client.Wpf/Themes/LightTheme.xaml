<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:FieldKb.Client.Wpf"
                    xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework">

    <FontFamily x:Key="Font.Sans">Noto Sans SC, Microsoft YaHei UI, Segoe UI</FontFamily>
    <FontFamily x:Key="Font.Serif">Noto Serif SC, SimSun, Microsoft YaHei UI</FontFamily>
    <FontFamily x:Key="Font.Callout">Ma Shan Zheng, KaiTi, Noto Serif SC</FontFamily>

    <Color x:Key="Color.Primary">#FF4F7DFF</Color>
    <Color x:Key="Color.PrimaryDark">#FF2F63FF</Color>
    <Color x:Key="Color.Bg0">#FFF7F9FF</Color>
    <Color x:Key="Color.Bg1">#FFEEF3FF</Color>
    <Color x:Key="Color.Bg">#FFF7F9FF</Color>
    <Color x:Key="Color.Surface">#E6FFFFFF</Color>
    <Color x:Key="Color.Surface2">#F2FFFFFF</Color>
    <Color x:Key="Color.Surface3">#FFFFFFFF</Color>
    <Color x:Key="Color.Border">#1A0E1B2E</Color>
    <Color x:Key="Color.Border2">#330E1B2E</Color>
    <Color x:Key="Color.Text">#FF141B2A</Color>
    <Color x:Key="Color.SubText">#FF5F6B7A</Color>
    <Color x:Key="Color.Danger">#FFE53935</Color>
    <Color x:Key="Color.Amber">#FFFFA000</Color>
    <Color x:Key="Color.Mint">#FF00B894</Color>
    <Color x:Key="Color.Selection">#1A4F7DFF</Color>
    <Color x:Key="Color.SelectionBorder">#664F7DFF</Color>

    <SolidColorBrush x:Key="Brush.Primary" Color="{StaticResource Color.Primary}" />
    <SolidColorBrush x:Key="Brush.PrimaryDark" Color="{StaticResource Color.PrimaryDark}" />
    <SolidColorBrush x:Key="Brush.Surface" Color="{StaticResource Color.Surface}" />
    <SolidColorBrush x:Key="Brush.Surface2" Color="{StaticResource Color.Surface2}" />
    <SolidColorBrush x:Key="Brush.Surface3" Color="{StaticResource Color.Surface3}" />
    <SolidColorBrush x:Key="Brush.Border" Color="{StaticResource Color.Border}" />
    <SolidColorBrush x:Key="Brush.Border2" Color="{StaticResource Color.Border2}" />
    <SolidColorBrush x:Key="Brush.Text" Color="{StaticResource Color.Text}" />
    <SolidColorBrush x:Key="Brush.SubText" Color="{StaticResource Color.SubText}" />
    <SolidColorBrush x:Key="Brush.Danger" Color="{StaticResource Color.Danger}" />
    <SolidColorBrush x:Key="Brush.Amber" Color="{StaticResource Color.Amber}" />
    <SolidColorBrush x:Key="Brush.Mint" Color="{StaticResource Color.Mint}" />
    <SolidColorBrush x:Key="Brush.Selection" Color="{StaticResource Color.Selection}" />
    <SolidColorBrush x:Key="Brush.SelectionBorder" Color="{StaticResource Color.SelectionBorder}" />

    <LinearGradientBrush x:Key="Brush.BgBase" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Color="{StaticResource Color.Bg0}" Offset="0" />
        <GradientStop Color="{StaticResource Color.Bg1}" Offset="1" />
    </LinearGradientBrush>

    <DrawingBrush x:Key="Brush.GlassCard" Stretch="Fill">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <GeometryDrawing Geometry="M0,0 L1,0 1,1 0,1 Z">
                    <GeometryDrawing.Brush>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#FFFFFFFF" Offset="0" />
                            <GradientStop Color="#EEF4FFFF" Offset="0.55" />
                            <GradientStop Color="#E2ECFFFF" Offset="1" />
                        </LinearGradientBrush>
                    </GeometryDrawing.Brush>
                </GeometryDrawing>
                <GeometryDrawing Geometry="M0,0 L1,0 1,0.46 0,0.46 Z">
                    <GeometryDrawing.Brush>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#80FFFFFF" Offset="0" />
                            <GradientStop Color="#00FFFFFF" Offset="1" />
                        </LinearGradientBrush>
                    </GeometryDrawing.Brush>
                </GeometryDrawing>
                <GeometryDrawing Geometry="M0,0 L1,0 1,1 0,1 Z">
                    <GeometryDrawing.Brush>
                        <RadialGradientBrush Center="0.92,0.06" GradientOrigin="0.92,0.06" RadiusX="0.9" RadiusY="0.9">
                            <GradientStop Color="#1A4F7DFF" Offset="0" />
                            <GradientStop Color="#004F7DFF" Offset="1" />
                        </RadialGradientBrush>
                    </GeometryDrawing.Brush>
                </GeometryDrawing>
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>

    <DrawingBrush x:Key="Brush.GlassSection" Stretch="Fill">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <GeometryDrawing Geometry="M0,0 L1,0 1,1 0,1 Z">
                    <GeometryDrawing.Brush>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#FFFFFFFF" Offset="0" />
                            <GradientStop Color="#F5F8FFFF" Offset="0.6" />
                            <GradientStop Color="#EDF3FFFF" Offset="1" />
                        </LinearGradientBrush>
                    </GeometryDrawing.Brush>
                </GeometryDrawing>
                <GeometryDrawing Geometry="M0,0 L1,0 1,0.40 0,0.40 Z">
                    <GeometryDrawing.Brush>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#6AFFFFFF" Offset="0" />
                            <GradientStop Color="#00FFFFFF" Offset="1" />
                        </LinearGradientBrush>
                    </GeometryDrawing.Brush>
                </GeometryDrawing>
                <GeometryDrawing Geometry="M0,0 L1,0 1,1 0,1 Z">
                    <GeometryDrawing.Brush>
                        <RadialGradientBrush Center="0.16,0.12" GradientOrigin="0.16,0.12" RadiusX="0.8" RadiusY="0.8">
                            <GradientStop Color="#1200B894" Offset="0" />
                            <GradientStop Color="#0000B894" Offset="1" />
                        </RadialGradientBrush>
                    </GeometryDrawing.Brush>
                </GeometryDrawing>
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>

    <LinearGradientBrush x:Key="Brush.GlassTitleBar" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Color="#FFFFFFFF" Offset="0" />
        <GradientStop Color="#ECF3FFFF" Offset="1" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="Brush.GlassControl" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Color="#FFFFFFFF" Offset="0" />
        <GradientStop Color="#F0F6FAFF" Offset="1" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="Brush.GlassControlHover" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Color="#FFFFFFFF" Offset="0" />
        <GradientStop Color="#E6EEF6FF" Offset="1" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="Brush.GlassControlPressed" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Color="#F7FFFFFF" Offset="0" />
        <GradientStop Color="#E3ECF5FF" Offset="1" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="Brush.GlassSheen" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Color="#66FFFFFF" Offset="0" />
        <GradientStop Color="#00FFFFFF" Offset="1" />
    </LinearGradientBrush>
    <LinearGradientBrush x:Key="Brush.GlassBorder" StartPoint="0,0" EndPoint="0,1">
        <GradientStop Color="#66FFFFFF" Offset="0" />
        <GradientStop Color="#220E1B2E" Offset="1" />
    </LinearGradientBrush>
    <SolidColorBrush x:Key="Brush.GlassOverlayPressed" Color="#140E1B2E" />

    <RadialGradientBrush x:Key="Brush.BgAccent1" Center="0.10,0.10" GradientOrigin="0.10,0.10" RadiusX="0.85" RadiusY="0.85">
        <GradientStop Color="#334F7DFF" Offset="0" />
        <GradientStop Color="#004F7DFF" Offset="1" />
    </RadialGradientBrush>
    <RadialGradientBrush x:Key="Brush.BgAccent2" Center="0.84,0.16" GradientOrigin="0.84,0.16" RadiusX="0.78" RadiusY="0.78">
        <GradientStop Color="#2200B894" Offset="0" />
        <GradientStop Color="#0000B894" Offset="1" />
    </RadialGradientBrush>
    <RadialGradientBrush x:Key="Brush.BgAccent3" Center="0.90,0.92" GradientOrigin="0.90,0.92" RadiusX="0.72" RadiusY="0.72">
        <GradientStop Color="#18FFB02E" Offset="0" />
        <GradientStop Color="#00FFB02E" Offset="1" />
    </RadialGradientBrush>

    <DrawingBrush x:Key="Brush.Bg" Stretch="Fill">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <GeometryDrawing Geometry="M0,0 L1,0 1,1 0,1 Z">
                    <GeometryDrawing.Brush>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="{StaticResource Color.Bg0}" Offset="0" />
                            <GradientStop Color="{StaticResource Color.Bg1}" Offset="1" />
                        </LinearGradientBrush>
                    </GeometryDrawing.Brush>
                </GeometryDrawing>
                <GeometryDrawing Geometry="M0,0 L1,0 1,1 0,1 Z">
                    <GeometryDrawing.Brush>
                        <RadialGradientBrush Center="0.10,0.10" GradientOrigin="0.10,0.10" RadiusX="0.85" RadiusY="0.85">
                            <GradientStop Color="#334F7DFF" Offset="0" />
                            <GradientStop Color="#004F7DFF" Offset="1" />
                        </RadialGradientBrush>
                    </GeometryDrawing.Brush>
                </GeometryDrawing>
                <GeometryDrawing Geometry="M0,0 L1,0 1,1 0,1 Z">
                    <GeometryDrawing.Brush>
                        <RadialGradientBrush Center="0.84,0.16" GradientOrigin="0.84,0.16" RadiusX="0.78" RadiusY="0.78">
                            <GradientStop Color="#2200B894" Offset="0" />
                            <GradientStop Color="#0000B894" Offset="1" />
                        </RadialGradientBrush>
                    </GeometryDrawing.Brush>
                </GeometryDrawing>
                <GeometryDrawing Geometry="M0,0 L1,0 1,1 0,1 Z">
                    <GeometryDrawing.Brush>
                        <RadialGradientBrush Center="0.90,0.92" GradientOrigin="0.90,0.92" RadiusX="0.72" RadiusY="0.72">
                            <GradientStop Color="#18FFB02E" Offset="0" />
                            <GradientStop Color="#00FFB02E" Offset="1" />
                        </RadialGradientBrush>
                    </GeometryDrawing.Brush>
                </GeometryDrawing>
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>

    <CornerRadius x:Key="Radius.S">12</CornerRadius>
    <CornerRadius x:Key="Radius.M">16</CornerRadius>
    <CornerRadius x:Key="Radius.L">22</CornerRadius>
    <CornerRadius x:Key="Radius.Pill">999</CornerRadius>

    <Thickness x:Key="Pad.S">8</Thickness>
    <Thickness x:Key="Pad.M">12</Thickness>
    <Thickness x:Key="Pad.L">16</Thickness>
    <Thickness x:Key="Pad.XL">20</Thickness>

    <DropShadowEffect x:Key="Effect.CardShadow" Color="#FF000000" BlurRadius="38" ShadowDepth="10" Direction="270" Opacity="0.10" />
    <DropShadowEffect x:Key="Effect.ButtonHoverShadow" Color="#FF000000" BlurRadius="22" ShadowDepth="8" Direction="270" Opacity="0.14" />
    <DropShadowEffect x:Key="Effect.SelectionGlow" Color="#FF4F7DFF" BlurRadius="28" ShadowDepth="0" Direction="270" Opacity="0.20" />

    <Style x:Key="Card" TargetType="{x:Type Border}">
        <Setter Property="Background" Value="{StaticResource Brush.GlassCard}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.GlassBorder}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="{StaticResource Radius.L}" />
        <Setter Property="Padding" Value="{StaticResource Pad.L}" />
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="Effect" Value="{StaticResource Effect.CardShadow}" />
    </Style>

    <Style x:Key="TopBar" TargetType="{x:Type Border}" BasedOn="{StaticResource Card}">
        <Setter Property="CornerRadius" Value="{StaticResource Radius.L}" />
        <Setter Property="Padding" Value="16,14" />
        <Setter Property="Effect" Value="{StaticResource Effect.CardShadow}" />
    </Style>

    <Style x:Key="Section" TargetType="{x:Type Border}">
        <Setter Property="Background" Value="{StaticResource Brush.GlassSection}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.GlassBorder}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="{StaticResource Radius.M}" />
        <Setter Property="Padding" Value="12" />
        <Setter Property="SnapsToDevicePixels" Value="True" />
    </Style>

    <Style x:Key="GlassPanel" TargetType="{x:Type Border}">
        <Setter Property="Background" Value="{StaticResource Brush.GlassSection}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.GlassBorder}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="Effect" Value="{StaticResource Effect.CardShadow}" />
    </Style>

    <Style x:Key="Window.CaptionButton" TargetType="{x:Type Button}">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="Width" Value="44" />
        <Setter Property="Height" Value="44" />
        <Setter Property="FontFamily" Value="Segoe MDL2 Assets" />
        <Setter Property="FontSize" Value="12" />
        <Setter Property="Foreground" Value="{StaticResource Brush.SubText}" />
        <Setter Property="Focusable" Value="False" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <Border x:Name="Bd" Background="{TemplateBinding Background}" CornerRadius="12">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.GlassControlHover}" />
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.GlassControlPressed}" />
                            <Setter TargetName="Bd" Property="Opacity" Value="0.95" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.5" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type Window}">
        <Setter Property="FontFamily" Value="{StaticResource Font.Sans}" />
        <Setter Property="FontSize" Value="13" />
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="Background" Value="{StaticResource Brush.Bg}" />
        <Setter Property="TextOptions.TextFormattingMode" Value="Display" />
        <Setter Property="TextOptions.TextRenderingMode" Value="ClearType" />
        <Setter Property="WindowStyle" Value="None" />
        <Setter Property="AllowsTransparency" Value="False" />
        <Setter Property="shell:WindowChrome.WindowChrome">
            <Setter.Value>
                <shell:WindowChrome CaptionHeight="44"
                                    CornerRadius="0"
                                    GlassFrameThickness="0"
                                    ResizeBorderThickness="6"
                                    UseAeroCaptionButtons="False" />
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Window}">
                    <Border Background="{TemplateBinding Background}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="44" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <Border Grid.Row="0"
                                    Background="{StaticResource Brush.GlassTitleBar}"
                                    BorderBrush="{StaticResource Brush.Border}"
                                    BorderThickness="0,0,0,1"
                                    shell:WindowChrome.IsHitTestVisibleInChrome="False">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Margin="14,0,0,0"
                                               VerticalAlignment="Center"
                                               FontFamily="{StaticResource Font.Serif}"
                                               FontWeight="SemiBold"
                                               TextTrimming="CharacterEllipsis"
                                               Text="{TemplateBinding Title}" />

                                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,8,0">
                                        <Button x:Name="MinimizeButton"
                                                Style="{StaticResource Window.CaptionButton}"
                                                Content="&#xE921;"
                                                shell:WindowChrome.IsHitTestVisibleInChrome="True"
                                                Command="{x:Static SystemCommands.MinimizeWindowCommand}"
                                                CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}" />

                                        <Button x:Name="MaximizeButton"
                                                Style="{StaticResource Window.CaptionButton}"
                                                Content="&#xE922;"
                                                shell:WindowChrome.IsHitTestVisibleInChrome="True"
                                                Command="{x:Static SystemCommands.MaximizeWindowCommand}"
                                                CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}" />

                                        <Button x:Name="RestoreButton"
                                                Style="{StaticResource Window.CaptionButton}"
                                                Content="&#xE923;"
                                                Visibility="Collapsed"
                                                shell:WindowChrome.IsHitTestVisibleInChrome="True"
                                                Command="{x:Static SystemCommands.RestoreWindowCommand}"
                                                CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}" />

                                        <Button x:Name="CloseButton"
                                                Style="{StaticResource Window.CaptionButton}"
                                                Content="&#xE8BB;"
                                                Foreground="{StaticResource Brush.Text}"
                                                shell:WindowChrome.IsHitTestVisibleInChrome="True"
                                                Command="{x:Static SystemCommands.CloseWindowCommand}"
                                                CommandParameter="{Binding RelativeSource={RelativeSource TemplatedParent}}" />
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <AdornerDecorator Grid.Row="1">
                                <ContentPresenter />
                            </AdornerDecorator>
                        </Grid>
                    </Border>

                    <ControlTemplate.Triggers>
                        <Trigger Property="ResizeMode" Value="NoResize">
                            <Setter TargetName="MinimizeButton" Property="Visibility" Value="Collapsed" />
                            <Setter TargetName="MaximizeButton" Property="Visibility" Value="Collapsed" />
                            <Setter TargetName="RestoreButton" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="WindowState" Value="Maximized">
                            <Setter TargetName="MaximizeButton" Property="Visibility" Value="Collapsed" />
                            <Setter TargetName="RestoreButton" Property="Visibility" Value="Visible" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type TextBox}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="Background" Value="{StaticResource Brush.GlassControl}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="14,8" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TextBox}">
                    <Grid>
                        <Border x:Name="FocusRing"
                                CornerRadius="{StaticResource Radius.M}"
                                BorderBrush="{StaticResource Brush.Primary}"
                                BorderThickness="0"
                                Opacity="0.20" />
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{StaticResource Radius.M}">
                            <Grid>
                                <ScrollViewer x:Name="PART_ContentHost"
                                              Padding="{TemplateBinding Padding}"
                                              HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" />
                                <TextBlock x:Name="Watermark"
                                           Margin="{TemplateBinding Padding}"
                                           Foreground="{StaticResource Brush.SubText}"
                                           Opacity="0.92"
                                           Text="{TemplateBinding Tag}"
                                           IsHitTestVisible="False"
                                           VerticalAlignment="Center"
                                           Visibility="Collapsed" />
                            </Grid>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsKeyboardFocused" Value="False" />
                                <Condition Property="Text" Value="" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="Watermark" Property="Visibility" Value="Visible" />
                        </MultiTrigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.GlassControlHover}" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="BorderThickness" Value="2" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Primary}" />
                        </Trigger>
                        <Trigger Property="Validation.HasError" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Danger}" />
                            <Setter TargetName="FocusRing" Property="BorderBrush" Value="{StaticResource Brush.Danger}" />
                            <Setter TargetName="FocusRing" Property="BorderThickness" Value="2" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Opacity" Value="0.7" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="TextBox.Pill" TargetType="{x:Type TextBox}" BasedOn="{StaticResource {x:Type TextBox}}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TextBox}">
                    <Grid>
                        <Border x:Name="FocusRing"
                                CornerRadius="{StaticResource Radius.Pill}"
                                BorderBrush="{StaticResource Brush.Primary}"
                                BorderThickness="0"
                                Opacity="0.20" />
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{StaticResource Radius.Pill}">
                            <Grid>
                                <ScrollViewer x:Name="PART_ContentHost"
                                              Padding="{TemplateBinding Padding}"
                                              HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" />
                                <TextBlock x:Name="Watermark"
                                           Margin="{TemplateBinding Padding}"
                                           Foreground="{StaticResource Brush.SubText}"
                                           Opacity="0.92"
                                           Text="{TemplateBinding Tag}"
                                           IsHitTestVisible="False"
                                           VerticalAlignment="Center"
                                           Visibility="Collapsed" />
                            </Grid>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsKeyboardFocused" Value="False" />
                                <Condition Property="Text" Value="" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="Watermark" Property="Visibility" Value="Visible" />
                        </MultiTrigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.GlassControlHover}" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="BorderThickness" Value="2" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Primary}" />
                        </Trigger>
                        <Trigger Property="Validation.HasError" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Danger}" />
                            <Setter TargetName="FocusRing" Property="BorderBrush" Value="{StaticResource Brush.Danger}" />
                            <Setter TargetName="FocusRing" Property="BorderThickness" Value="2" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type PasswordBox}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="Background" Value="{StaticResource Brush.GlassControl}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="14,8" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type PasswordBox}">
                    <Grid>
                        <Border x:Name="FocusRing"
                                CornerRadius="{StaticResource Radius.M}"
                                BorderBrush="{StaticResource Brush.Primary}"
                                BorderThickness="0"
                                Opacity="0.20" />
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{StaticResource Radius.M}">
                            <ScrollViewer x:Name="PART_ContentHost" Padding="{TemplateBinding Padding}" />
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.GlassControlHover}" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="BorderThickness" Value="2" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Primary}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Bd" Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type DatePickerTextBox}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Padding" Value="12,6" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type DatePickerTextBox}">
                    <ScrollViewer x:Name="PART_ContentHost"
                                  Background="{TemplateBinding Background}"
                                  Padding="{TemplateBinding Padding}"
                                  HorizontalScrollBarVisibility="Hidden"
                                  VerticalScrollBarVisibility="Hidden" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type Calendar}">
        <Setter Property="Background" Value="{StaticResource Brush.Surface3}" />
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
    </Style>

    <Style TargetType="{x:Type CalendarDayButton}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderBrush" Value="Transparent" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type CalendarDayButton}">
                    <Border x:Name="Bd"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="10"
                            Padding="6,5">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.Surface2}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.Selection}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.SelectionBorder}" />
                        </Trigger>
                        <Trigger Property="IsInactive" Value="True">
                            <Setter Property="Foreground" Value="{StaticResource Brush.SubText}" />
                        </Trigger>
                        <Trigger Property="IsToday" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Mint}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type CalendarButton}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderBrush" Value="Transparent" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type CalendarButton}">
                    <Border x:Name="Bd"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="10"
                            Padding="10,6">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.Surface2}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                        </Trigger>
                        <Trigger Property="IsInactive" Value="True">
                            <Setter Property="Foreground" Value="{StaticResource Brush.SubText}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type DatePicker}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="Background" Value="{StaticResource Brush.Surface3}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type DatePicker}">
                    <Grid>
                        <Border x:Name="FocusRing"
                                CornerRadius="{StaticResource Radius.M}"
                                BorderBrush="{StaticResource Brush.Primary}"
                                BorderThickness="0"
                                Opacity="0.20" />
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{StaticResource Radius.M}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="44" />
                                </Grid.ColumnDefinitions>
                                <DatePickerTextBox x:Name="PART_TextBox"
                                                   Foreground="{TemplateBinding Foreground}"
                                                   HorizontalContentAlignment="Left"
                                                   VerticalContentAlignment="Center" />
                                <Button x:Name="PART_Button"
                                        Grid.Column="1"
                                        Focusable="False"
                                        BorderThickness="0"
                                        Background="Transparent"
                                        Padding="0">
                                    <TextBlock FontFamily="Segoe MDL2 Assets"
                                               Foreground="{StaticResource Brush.SubText}"
                                               Text="&#xE787;"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center" />
                                </Button>
                            </Grid>
                        </Border>

                        <Popup x:Name="PART_Popup"
                               Placement="Bottom"
                               IsOpen="{TemplateBinding IsDropDownOpen}"
                               AllowsTransparency="True"
                               Focusable="False"
                               PopupAnimation="Fade">
                            <Border Background="{StaticResource Brush.Surface3}"
                                    BorderBrush="{StaticResource Brush.Border}"
                                    BorderThickness="1"
                                    CornerRadius="{StaticResource Radius.M}"
                                    Effect="{StaticResource Effect.CardShadow}"
                                    Padding="10">
                                <Calendar x:Name="PART_Calendar"
                                          SelectedDate="{Binding SelectedDate, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                                          DisplayDate="{Binding DisplayDate, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                                          DisplayDateStart="{TemplateBinding DisplayDateStart}"
                                          DisplayDateEnd="{TemplateBinding DisplayDateEnd}"
                                          FirstDayOfWeek="{TemplateBinding FirstDayOfWeek}" />
                            </Border>
                        </Popup>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.Surface2}" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocusWithin" Value="True">
                            <Setter TargetName="FocusRing" Property="BorderThickness" Value="2" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Primary}" />
                        </Trigger>
                        <Trigger Property="IsDropDownOpen" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.PrimaryDark}" />
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.Surface2}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type ComboBox}">
        <Setter Property="local:ComboBoxBehaviors.OpenDropDownOnClick" Value="True" />
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="Background" Value="{StaticResource Brush.GlassControl}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.GlassBorder}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="14,8" />
        <Setter Property="MinHeight" Value="40" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ComboBox}">
                    <Grid>
                        <Border x:Name="FocusRing"
                                CornerRadius="{StaticResource Radius.M}"
                                BorderBrush="{StaticResource Brush.Primary}"
                                BorderThickness="0"
                                Opacity="0.20" />
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{StaticResource Radius.M}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="40" />
                                </Grid.ColumnDefinitions>
                                <ContentPresenter x:Name="ContentSite"
                                                  Margin="{TemplateBinding Padding}"
                                                  VerticalAlignment="Center"
                                                  HorizontalAlignment="Stretch"
                                                  Content="{TemplateBinding SelectionBoxItem}"
                                                  ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                  ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                                  RecognizesAccessKey="True" />
                                <TextBox x:Name="PART_EditableTextBox"
                                         Style="{x:Null}"
                                         Margin="{TemplateBinding Padding}"
                                         VerticalAlignment="Center"
                                         Background="Transparent"
                                         BorderThickness="0"
                                         Padding="0"
                                         Foreground="{TemplateBinding Foreground}"
                                         VerticalContentAlignment="Center"
                                         Visibility="Hidden"
                                         Text="{Binding Path=Text, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                         IsReadOnly="{TemplateBinding IsReadOnly}" />
                                <ToggleButton x:Name="DropDownToggle"
                                              Grid.Column="1"
                                              Focusable="False"
                                              IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                              Background="Transparent"
                                              BorderThickness="0"
                                              Padding="0">
                                    <TextBlock FontFamily="Segoe MDL2 Assets"
                                               Foreground="{StaticResource Brush.SubText}"
                                               Text="&#xE70D;"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center" />
                                </ToggleButton>
                                <Popup x:Name="PART_Popup"
                                       Placement="Bottom"
                                       IsOpen="{TemplateBinding IsDropDownOpen}"
                                       AllowsTransparency="True"
                                       Focusable="False"
                                       PopupAnimation="Fade">
                                    <Border Background="{StaticResource Brush.GlassSection}"
                                            BorderBrush="{StaticResource Brush.GlassBorder}"
                                            BorderThickness="1"
                                            CornerRadius="{StaticResource Radius.M}"
                                            Effect="{StaticResource Effect.CardShadow}"
                                            Padding="4">
                                        <ScrollViewer SnapsToDevicePixels="True"
                                                      CanContentScroll="True"
                                                      VerticalScrollBarVisibility="Auto"
                                                      HorizontalScrollBarVisibility="Disabled">
                                            <ItemsPresenter />
                                        </ScrollViewer>
                                    </Border>
                                </Popup>
                            </Grid>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEditable" Value="True">
                            <Setter TargetName="ContentSite" Property="Visibility" Value="Hidden" />
                            <Setter TargetName="PART_EditableTextBox" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.GlassControlHover}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                        </Trigger>
                        <Trigger Property="IsDropDownOpen" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.GlassControlHover}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.PrimaryDark}" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocusWithin" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Primary}" />
                            <Setter TargetName="FocusRing" Property="BorderThickness" Value="2" />
                        </Trigger>
                        <Trigger Property="Validation.HasError" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Danger}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                <Setter Property="BorderBrush" Value="{StaticResource Brush.Primary}" />
            </Trigger>
            <Trigger Property="Validation.HasError" Value="True">
                <Setter Property="BorderBrush" Value="{StaticResource Brush.Danger}" />
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Opacity" Value="0.7" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style TargetType="{x:Type ComboBoxItem}">
        <Setter Property="Background" Value="{StaticResource Brush.GlassSection}" />
        <Setter Property="Padding" Value="10,8" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ComboBoxItem}">
                    <Border x:Name="Bd" Background="{TemplateBinding Background}" CornerRadius="12">
                        <ContentPresenter Margin="{TemplateBinding Padding}" />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.GlassControlHover}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                            <Setter TargetName="Bd" Property="BorderThickness" Value="1" />
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.Selection}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.SelectionBorder}" />
                            <Setter TargetName="Bd" Property="BorderThickness" Value="1" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type ScrollBar}">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Foreground" Value="{StaticResource Brush.SubText}" />
        <Setter Property="Width" Value="14" />
        <Setter Property="MinWidth" Value="14" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ScrollBar}">
                    <Grid>
                        <Border Background="{TemplateBinding Background}" />
                        <Track x:Name="PART_Track"
                               IsDirectionReversed="True"
                               Focusable="False">
                            <Track.DecreaseRepeatButton>
                                <RepeatButton Width="0" Height="0" />
                            </Track.DecreaseRepeatButton>
                            <Track.IncreaseRepeatButton>
                                <RepeatButton Width="0" Height="0" />
                            </Track.IncreaseRepeatButton>
                            <Track.Thumb>
                                <Thumb>
                                    <Thumb.Template>
                                        <ControlTemplate TargetType="{x:Type Thumb}">
                                            <Border CornerRadius="8"
                                                    Background="#140E1B2E"
                                                    BorderBrush="{StaticResource Brush.Border}"
                                                    BorderThickness="1" />
                                        </ControlTemplate>
                                    </Thumb.Template>
                                </Thumb>
                            </Track.Thumb>
                        </Track>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="Orientation" Value="Vertical">
                            <Setter TargetName="PART_Track" Property="Margin" Value="3,8" />
                        </Trigger>
                        <Trigger Property="Orientation" Value="Horizontal">
                            <Setter TargetName="PART_Track" Property="Margin" Value="8,3" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Opacity" Value="0.95" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.5" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type Button}">
        <Setter Property="Background" Value="{StaticResource Brush.GlassControl}" />
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.GlassBorder}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="MinHeight" Value="40" />
        <Setter Property="FontWeight" Value="SemiBold" />
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <Grid RenderTransformOrigin="0.5,0.5">
                        <Grid.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1" />
                        </Grid.RenderTransform>
                        <Border x:Name="FocusRing"
                                CornerRadius="{StaticResource Radius.Pill}"
                                BorderBrush="{StaticResource Brush.Primary}"
                                BorderThickness="0"
                                Opacity="0.20" />
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{StaticResource Radius.Pill}">
                            <Grid>
                                <ContentPresenter Margin="{TemplateBinding Padding}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  RecognizesAccessKey="True" />
                                <Border x:Name="InteractionOverlay"
                                        Background="{StaticResource Brush.GlassSheen}"
                                        CornerRadius="{StaticResource Radius.Pill}"
                                        Margin="1"
                                        Opacity="0"
                                        IsHitTestVisible="False" />
                                <Border x:Name="Sheen"
                                        Background="{StaticResource Brush.GlassSheen}"
                                        CornerRadius="{StaticResource Radius.Pill}"
                                        Margin="1"
                                        Opacity="0.65"
                                        IsHitTestVisible="False" />
                            </Grid>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                            <Setter TargetName="Bd" Property="Effect" Value="{StaticResource Effect.ButtonHoverShadow}" />
                            <Setter TargetName="Sheen" Property="Opacity" Value="0.78" />
                            <Setter TargetName="InteractionOverlay" Property="Background" Value="{StaticResource Brush.GlassSheen}" />
                            <Setter TargetName="InteractionOverlay" Property="Opacity" Value="0.55" />
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="Bd" Property="Opacity" Value="0.96" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.PrimaryDark}" />
                            <Setter TargetName="Bd" Property="Effect" Value="{x:Null}" />
                            <Setter TargetName="Bd" Property="RenderTransformOrigin" Value="0.5,0.5" />
                            <Setter TargetName="Bd" Property="RenderTransform">
                                <Setter.Value>
                                    <ScaleTransform ScaleX="0.985" ScaleY="0.985" />
                                </Setter.Value>
                            </Setter>
                            <Setter TargetName="Sheen" Property="Opacity" Value="0.22" />
                            <Setter TargetName="InteractionOverlay" Property="Background" Value="{StaticResource Brush.GlassOverlayPressed}" />
                            <Setter TargetName="InteractionOverlay" Property="Opacity" Value="0.25" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="BorderThickness" Value="2" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Bd" Property="Opacity" Value="0.65" />
                            <Setter TargetName="Sheen" Property="Opacity" Value="0.25" />
                            <Setter TargetName="InteractionOverlay" Property="Opacity" Value="0" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="Button.Outline" TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
        <Setter Property="Background" Value="{StaticResource Brush.GlassControl}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.GlassBorder}" />
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
    </Style>

    <Style x:Key="Button.Toolbar" TargetType="{x:Type Button}" BasedOn="{StaticResource Button.Outline}">
        <Setter Property="Padding" Value="12,8" />
        <Setter Property="MinHeight" Value="36" />
        <Setter Property="FontSize" Value="12" />
        <Setter Property="FontWeight" Value="SemiBold" />
    </Style>

    <Style x:Key="Button.Primary" TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
        <Setter Property="Background">
            <Setter.Value>
                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                    <GradientStop Color="{StaticResource Color.Primary}" Offset="0" />
                    <GradientStop Color="{StaticResource Color.PrimaryDark}" Offset="1" />
                </LinearGradientBrush>
            </Setter.Value>
        </Setter>
        <Setter Property="Foreground" Value="White" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.Primary}" />
    </Style>

    <Style x:Key="Button.DangerOutline" TargetType="{x:Type Button}" BasedOn="{StaticResource {x:Type Button}}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Danger}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.Danger}" />
        <Setter Property="Background" Value="{StaticResource Brush.GlassControl}" />
    </Style>

    <Style TargetType="{x:Type CheckBox}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type CheckBox}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="8" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Border x:Name="FocusRing"
                                Width="22"
                                Height="22"
                                CornerRadius="7"
                                BorderBrush="{StaticResource Brush.Primary}"
                                BorderThickness="0"
                                Opacity="0.20" />

                        <Border x:Name="Box"
                                Width="18"
                                Height="18"
                                Margin="2"
                                CornerRadius="6"
                                Background="{StaticResource Brush.Surface3}"
                                BorderBrush="{StaticResource Brush.Border2}"
                                BorderThickness="1" />

                        <TextBlock x:Name="Glyph"
                                   FontFamily="Segoe MDL2 Assets"
                                   FontSize="12"
                                   Foreground="White"
                                   Text="&#xE73E;"
                                   Visibility="Collapsed"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center" />

                        <ContentPresenter Grid.Column="2"
                                          VerticalAlignment="Center"
                                          RecognizesAccessKey="True" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Box" Property="Background" Value="{StaticResource Brush.Surface2}" />
                            <Setter TargetName="Box" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="FocusRing" Property="BorderThickness" Value="2" />
                        </Trigger>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="Box" Property="Background" Value="{StaticResource Brush.PrimaryDark}" />
                            <Setter TargetName="Box" Property="BorderBrush" Value="{StaticResource Brush.Primary}" />
                            <Setter TargetName="Glyph" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="IsChecked" Value="{x:Null}">
                            <Setter TargetName="Box" Property="Background" Value="{StaticResource Brush.Surface2}" />
                            <Setter TargetName="Box" Property="BorderBrush" Value="{StaticResource Brush.Primary}" />
                            <Setter TargetName="Glyph" Property="Text" Value="&#xE73C;" />
                            <Setter TargetName="Glyph" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="CheckBox.Pill" TargetType="{x:Type CheckBox}" BasedOn="{StaticResource {x:Type CheckBox}}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type CheckBox}">
                    <Border x:Name="Bd"
                            Background="{StaticResource Brush.Surface3}"
                            BorderBrush="{StaticResource Brush.Border}"
                            BorderThickness="1"
                            CornerRadius="{StaticResource Radius.Pill}"
                            Padding="10,7">
                        <ContentPresenter RecognizesAccessKey="True" />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.Surface2}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                        </Trigger>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Primary}" />
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.Surface2}" />
                            <Setter TargetName="Bd" Property="Effect" Value="{StaticResource Effect.ButtonHoverShadow}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Bd" Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type ListBox}">
        <Setter Property="Background" Value="{StaticResource Brush.GlassSection}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.GlassBorder}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ListBox}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{StaticResource Radius.M}">
                        <ScrollViewer Focusable="False" Padding="{TemplateBinding Padding}">
                            <ItemsPresenter />
                        </ScrollViewer>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type ListBoxItem}">
        <Setter Property="Padding" Value="0" />
        <Setter Property="Margin" Value="10,10,10,0" />
        <Setter Property="Background" Value="{StaticResource Brush.GlassSection}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ListBoxItem}">
                    <Border x:Name="Bd"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{StaticResource Brush.GlassBorder}"
                            BorderThickness="1"
                            CornerRadius="{StaticResource Radius.M}">
                        <ContentPresenter />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.GlassControlHover}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.Border2}" />
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.Selection}" />
                            <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource Brush.SelectionBorder}" />
                            <Setter TargetName="Bd" Property="BorderThickness" Value="1" />
                            <Setter TargetName="Bd" Property="Effect" Value="{StaticResource Effect.SelectionGlow}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Bd" Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type DataGrid}">
        <Setter Property="Background" Value="{StaticResource Brush.Surface3}" />
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="RowBackground" Value="Transparent" />
        <Setter Property="AlternatingRowBackground" Value="Transparent" />
        <Setter Property="GridLinesVisibility" Value="None" />
        <Setter Property="HeadersVisibility" Value="Column" />
        <Setter Property="RowHeaderWidth" Value="0" />
        <Setter Property="SelectionMode" Value="Single" />
        <Setter Property="SelectionUnit" Value="FullRow" />
    </Style>

    <Style TargetType="{x:Type DataGridColumnHeader}">
        <Setter Property="Foreground" Value="{StaticResource Brush.SubText}" />
        <Setter Property="FontWeight" Value="SemiBold" />
        <Setter Property="Background" Value="{StaticResource Brush.Surface3}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}" />
        <Setter Property="BorderThickness" Value="0,0,0,1" />
        <Setter Property="Padding" Value="12,10" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type DataGridColumnHeader}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <ContentPresenter Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type DataGridRow}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderBrush" Value="Transparent" />
        <Setter Property="BorderThickness" Value="0" />
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{StaticResource Brush.Surface2}" />
            </Trigger>
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="{StaticResource Brush.Surface2}" />
                <Setter Property="BorderBrush" Value="{StaticResource Brush.SelectionBorder}" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="Effect" Value="{StaticResource Effect.SelectionGlow}" />
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Opacity" Value="0.7" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style TargetType="{x:Type DataGridCell}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Text}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}" />
        <Setter Property="BorderThickness" Value="0,0,0,1" />
        <Setter Property="Padding" Value="12,10" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type DataGridCell}">
                    <Border Background="Transparent"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <ContentPresenter Margin="{TemplateBinding Padding}" VerticalAlignment="Center" />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type ProgressBar}">
        <Setter Property="Foreground" Value="{StaticResource Brush.Primary}" />
        <Setter Property="Background" Value="{StaticResource Brush.Surface2}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Height" Value="10" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ProgressBar}">
                    <Border CornerRadius="{StaticResource Radius.Pill}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid ClipToBounds="True">
                            <Border x:Name="Indicator"
                                    CornerRadius="{StaticResource Radius.Pill}"
                                    Background="{TemplateBinding Foreground}"
                                    HorizontalAlignment="Left"
                                    Width="{TemplateBinding ActualWidth}" />
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsIndeterminate" Value="True">
                            <Setter TargetName="Indicator" Property="Opacity" Value="0.32" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.7" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type StatusBar}">
        <Setter Property="Background" Value="{StaticResource Brush.Surface3}" />
        <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="10,6" />
    </Style>

</ResourceDictionary>
